query Sale($id: String!) {
  sale(id: $id) {
    id
    receiptNo
    type
    originalSaleId
    totalAmount
    totalCost
    paymentMethod
    notes
    organizationId
    createdAt
    items {
      id
      saleId
      productId
      quantity
      unitPrice
      unitCost
      subtotal
      createdAt
      product {
        id
        name
        barcode
        sellingPrice
      }
    }
  }
}

query TodaysCashSales($startDate: DateTime!, $endDate: DateTime!) {
  salesHistory(paymentMethod: "cash", type: "SALE", startDate: $startDate, endDate: $endDate) {
    id
    totalAmount
    createdAt
  }
}

query TodaysCardSales($startDate: DateTime!, $endDate: DateTime!) {
  salesHistory(paymentMethod: "card", type: "SALE", startDate: $startDate, endDate: $endDate) {
    id
    totalAmount
    createdAt
  }
}

query TodaysRefunds($startDate: DateTime!, $endDate: DateTime!) {
  salesHistory(type: "REFUND", startDate: $startDate, endDate: $endDate) {
    id
    totalAmount
    paymentMethod
    createdAt
  }
}

query SalesHistory($startDate: DateTime, $endDate: DateTime, $paymentMethod: String, $type: String, $limit: Int) {
  salesHistory(startDate: $startDate, endDate: $endDate, paymentMethod: $paymentMethod, type: $type, limit: $limit) {
    id
    receiptNo
    type
    originalSaleId
    totalAmount
    totalCost
    paymentMethod
    notes
    organizationId
    createdAt
    items {
      id
      saleId
      productId
      quantity
      unitPrice
      unitCost
      subtotal
      createdAt
      product {
        id
        name
        barcode
        sellingPrice
      }
    }
  }
}

mutation CreateSale($input: CreateSaleInput!) {
  createSale(input: $input) {
    id
    receiptNo
    type
    totalAmount
    totalCost
    paymentMethod
    notes
    organizationId
    createdAt
  }
}

mutation RefundSaleItem($saleItemId: String!) {
  refundSaleItem(saleItemId: $saleItemId) {
    id
    receiptNo
    type
    originalSaleId
    totalAmount
    totalCost
    paymentMethod
    notes
    organizationId
    createdAt
  }
}
